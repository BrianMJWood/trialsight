<div class="trials-wrapper">
  @if (trialsStore.loading()) {
  <p>Loadingâ€¦</p>
  } @else { @for (trial of trialsStore.display(); track $index) {
  <lib-trial
    [trial]="trial"
    (toggleFavourite)="trialsStore.toggleFavourite(trial)"
  />
  }

  <button
    id="add-all-favourites"
    aria-label="Add all visible trials to favourites"
    class="add-all-button"
    (click)="trialsStore.addCurrentViewToFavourites()"
    mat-raised-button
  >
    Add visible trials to favourites
  </button>
  } @if (trialsStore.error()) {
  <p>Error: {{ trialsStore.error() }}</p>
  }
</div>
